## 📄 2.1.4 - 深色模式适配.md

标签：#色彩系统 #移动端适配 #无障碍设计 #WCAG

### 🌑 四级子项：定义与核心逻辑：提升夜间与低光环境下的视觉舒适度

**深色模式适配（Dark Mode Adaption）** 是指设计一套与默认（浅色）模式互补的色彩主题，将界面主体背景色切换为深色（如深灰或纯黑），并将前景文字和元素调整为浅色。

**核心目标：**

1.  **视觉舒适度：** 减少屏幕发出的光线，尤其在夜间或低光环境下，减轻用户眼部疲劳。
2.  **延长续航：** 在 OLED/AMOLED 屏幕上，纯黑背景可以显著降低能耗。
3.  **满足用户偏好：** 提供用户操作系统层面的通用视觉选择，提高应用的适应性和用户体验。

### 🎨 实操方法：深色模式的色彩映射规范

深色模式适配并非简单的颜色反转，而是遵循一套精细的**亮度映射**和**色彩抑制**原则：

| 适配元素 | 浅色模式颜色 | 深色模式映射原则 | 规范细节与目标 |
| :--- | :--- | :--- | :--- |
| **背景（Canvas）** | 纯白（#FFFFFF）或浅灰 | **深灰而非纯黑**（推荐 #121212 - #1E1E1E）。 | 避免纯黑造成眩光或“挖洞”感，并为提升层级预留空间。 |
| **前景文字/图标** | 黑色或深灰 | **浅色、接近白色**（如 #F0F0F0），确保满足 **[[2.1.3 - 色彩对比度（WCAG）]]** 4.5:1 要求。 | 避免使用纯白，纯白在深色背景下可能引起眩光（Halation）。 |
| **品牌色/功能色** | 高饱和度 | **饱和度降低，明度提高**。 | 饱和度过高（如纯红、纯蓝）在深色背景下会显得过于刺眼。需要降低约 **20% 饱和度**。 |
| **层级区分（Elevation）** | 通过阴影（Shadow） | 通过**亮度抬升**（Raise Luminosity）。 | 深色模式下阴影效果差。抬升卡片或容器的背景亮度，亮度越高，代表层级越高。 |

### 🔍 层次规范：利用深色区分层级

在浅色模式中，我们通常用阴影和边框区分卡片和背景。在深色模式下，应通过**背景色的亮度差异**来区分 UI 层级：

1.  **基础背景（Canvas）：** 最深的颜色（如 #121212）。
2.  **卡片/容器（Surface）：** 略浅的颜色（如 #1E1E1E），代表卡片浮在背景之上。
3.  **顶部/底部导航（AppBar/Tabbar）：** 更浅的颜色（如 #282828），代表其层级最高。

> ****
> *图示：深色模式下通过背景亮度的分层来清晰地表达 UI 元素的层级关系。*

### 🛒 电商案例：深色模式下的品牌色处理

* **营销色处理：** **[[2.1.2 - 营销色与功能色.md|促销红]]**（如 #FF5722）在深色模式下需要进行调整。如果直接使用，会显得过于刺眼。正确的做法是将其颜色调整为略微柔和、不那么饱和的红色（如 #FF8A65），但依然保持其“促销”的语义。
* **商品主图展示：** 在深色模式下，为了保持商品图的视觉焦点，**[[2.3.1 - 商品主图规范.md|白底商品图]]** 的背景应被**柔和地融合**到深色背景中，而不是突兀地显示一块白色方块。这可以通过图像的柔和边缘或略微降低图像模块的亮度来实现。
* **表单/输入框：** 输入框的边框和背景应采用**亮度分层**的浅色，以清晰地与深色背景分离，提高用户对 **[[3.3.3 - 模态与非模态视图.md|表单控件]]** 的感知。

### 关联知识点

* [[色彩对比度（WCAG）]]：深色模式下，前景/背景的对比度仍是必须严格遵循的规范。
* [[布局结构与信息架构]]：深色模式对 **[[3.3.1 - 卡片式设计（Card UI）]]** 的层级表达提出了新的设计挑战。
* [[移动字体栈规范]]：前景文字的颜色选择需要配合字体栈，以保证渲染质量。